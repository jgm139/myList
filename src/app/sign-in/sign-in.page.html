<ion-header>
	<ion-toolbar>
		<ion-title>
			Sign In <ion-icon name="logo-firebase"></ion-icon>
		</ion-title>
	</ion-toolbar>
</ion-header>

<ion-content class="sign-form-content">

	<form [formGroup]="signInForm" (ngSubmit)="signInWithEmail()">
		<ion-list>
			<ion-item>
				<ion-input type="email" placeholder="Email" formControlName="email" clearInput autocapitalize="off" inputmode="email"></ion-input>
			</ion-item>
			<div class="error-container">
				<ng-container *ngFor="let validation of validation_messages.email">
					<div class="error-message" *ngIf="signInForm.get('email').hasError(validation.type) && (signInForm.get('email').dirty || signInForm.get('email').touched)">
						<ion-icon name="information-circle-outline"></ion-icon>
						<span>{{ validation.message }}</span>
					</div>
				</ng-container>
			</div>

			<ion-item>
				<ion-input type="password" placeholder="Password" formControlName="password"></ion-input>
			</ion-item>
			<div class="error-container">
				<ng-container *ngFor="let validation of validation_messages.password">
					<div class="error-message" *ngIf="signInForm.get('password').hasError(validation.type) && (signInForm.get('password').dirty || signInForm.get('password').touched)">
						<ion-icon name="information-circle-outline"></ion-icon>
						<span>{{ validation.message }}</span>
					</div>
				</ng-container>
			</div>
		</ion-list>

		<ion-button class="sign-form-btn" type="submit" expand="block" [disabled]="!signInForm.valid">
			Sign In
		</ion-button>

		<ion-button class="sign-form-btn-wrapper" expand="block" fill="outline" color="tertiary" [routerLink]="['/sign-up']">
			Don't have an account?
		</ion-button>
		
	</form>

	<div class="social-auth-options">
		<p class="options-divider">or</p>
		<ion-button expand="block" color="danger" (click)="googleSignIn()">Google Sign In</ion-button>
	</div>	
	
</ion-content>
